<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.4.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Vincenzo Coia">

  
  
  
    
  
  <meta name="description" content="This tutorial discusses the implementation of \(k\)-means (and variants) in R.
Let’s use a simulated dataset. Throughout, we’ll take \(k=3\) groups.
suppressMessages(library(ggplot2)) ## Warning: package &#39;ggplot2&#39; was built under R version 3.5.2 set.seed(345) x &lt;- rnorm(250) y &lt;- rnorm(250) ## Shift group 2: x[51:150] &lt;- x[51:150] &#43; 2.5 y[51:150] &lt;- y[51:150] - 1 ## Shift group 3: x[151:250] &lt;- x[151:250] - 1.5 y[151:250] &lt;- y[151:250] - 1.5 ## Plot: dat &lt;- data.">

  
  <link rel="alternate" hreflang="en-us" href="/post/kmeans_in_r/">

  


  

  
  
  
  <meta name="theme-color" content="rgb(251, 191, 183)">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cutive+Mono|Lora:400,700|Roboto:400,700&display=swap">
  

  
  
  
  <link rel="stylesheet" href="/css/academic.min.ea73d1703b3b3f029dd47ab826d4e3a6.css">

  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-111476782-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/kmeans_in_r/">

  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@VincenzoCoia">
  <meta property="twitter:creator" content="@VincenzoCoia">
  
  <meta property="og:site_name" content="Vincenzo Coia">
  <meta property="og:url" content="/post/kmeans_in_r/">
  <meta property="og:title" content="DSCI 563 Lab1 Tutorial: k-means | Vincenzo Coia">
  <meta property="og:description" content="This tutorial discusses the implementation of \(k\)-means (and variants) in R.
Let’s use a simulated dataset. Throughout, we’ll take \(k=3\) groups.
suppressMessages(library(ggplot2)) ## Warning: package &#39;ggplot2&#39; was built under R version 3.5.2 set.seed(345) x &lt;- rnorm(250) y &lt;- rnorm(250) ## Shift group 2: x[51:150] &lt;- x[51:150] &#43; 2.5 y[51:150] &lt;- y[51:150] - 1 ## Shift group 3: x[151:250] &lt;- x[151:250] - 1.5 y[151:250] &lt;- y[151:250] - 1.5 ## Plot: dat &lt;- data."><meta property="og:image" content="/img/icon-192.png">
  <meta property="twitter:image" content="/img/icon-192.png"><meta property="og:locale" content="en-us">
  
    
    
  

  


  





  <title>DSCI 563 Lab1 Tutorial: k-means | Vincenzo Coia</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Vincenzo Coia</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>About</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#career"><span>Career</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#tutorials"><span>Tutorials</span></a>
        </li>

        
        

        

        
        
        
          
            
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="https://interpreting-regression.netlify.com/" target="_blank" rel="noopener"><span>Book</span></a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  <article class="article" itemscope itemtype="http://schema.org/Article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">DSCI 563 Lab1 Tutorial: k-means</h1>

  

  
    



<meta content="" itemprop="datePublished">
<meta content="" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Jan 1, 0001</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    11 min read
  </span>
  

  
  
  
  <span class="middot-divider"></span>
  <a href="/post/kmeans_in_r/#disqus_thread"></a>
  

  
  

  
    
<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=/post/kmeans_in_r/&amp;text=DSCI%20563%20Lab1%20Tutorial:%20k-means" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/post/kmeans_in_r/&amp;t=DSCI%20563%20Lab1%20Tutorial:%20k-means" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook-f"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=DSCI%20563%20Lab1%20Tutorial:%20k-means&amp;body=/post/kmeans_in_r/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=/post/kmeans_in_r/&amp;title=DSCI%20563%20Lab1%20Tutorial:%20k-means" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=DSCI%20563%20Lab1%20Tutorial:%20k-means%20/post/kmeans_in_r/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=/post/kmeans_in_r/&amp;title=DSCI%20563%20Lab1%20Tutorial:%20k-means" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>


  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      


<p>This tutorial discusses the implementation of <span class="math inline">\(k\)</span>-means (and variants) in R.</p>
<p>Let’s use a simulated dataset. Throughout, we’ll take <span class="math inline">\(k=3\)</span> groups.</p>
<pre class="r"><code>suppressMessages(library(ggplot2))</code></pre>
<pre><code>## Warning: package &#39;ggplot2&#39; was built under R version 3.5.2</code></pre>
<pre class="r"><code>set.seed(345)
x &lt;- rnorm(250)
y &lt;- rnorm(250)
## Shift group 2:
x[51:150] &lt;- x[51:150] + 2.5
y[51:150] &lt;- y[51:150] - 1
## Shift group 3:
x[151:250] &lt;- x[151:250] - 1.5
y[151:250] &lt;- y[151:250] - 1.5
## Plot:
dat &lt;- data.frame(x=x, y=y)
qplot(x, y, alpha=I(0.5))</code></pre>
<p><img src="/tutorials/kmeans_in_r_files/figure-html/unnamed-chunk-1-1.png" width="384" style="display: block; margin: auto;" /></p>
<div id="k-means" class="section level2">
<h2><span class="math inline">\(k\)</span>-means</h2>
<div id="basics" class="section level3">
<h3>Basics</h3>
<p>Let’s fit a <span class="math inline">\(k\)</span>-means algorithm to the data with the <code>kmeans</code> function, to <span class="math inline">\(k=3\)</span> groups. Indicate the data first, then <span class="math inline">\(k\)</span> in the second (<code>centers</code>) argument.</p>
<pre class="r"><code>set.seed(22)
(fit1 &lt;- kmeans(dat, 3))</code></pre>
<pre><code>## K-means clustering with 3 clusters of sizes 60, 87, 103
## 
## Cluster means:
##            x          y
## 1  0.3725131  0.2750934
## 2  2.5109499 -1.2199721
## 3 -1.5793637 -1.5174017
## 
## Clustering vector:
##   [1] 1 3 3 3 1 3 3 1 2 1 1 1 1 1 1 1 1 2 3 1 1 1 3 3 1 1 3 1 1 1 1 1 1 3 1
##  [36] 1 1 1 1 1 1 1 3 1 1 1 1 1 1 1 2 2 2 2 2 2 1 3 2 2 2 2 2 1 2 2 2 2 2 2
##  [71] 2 2 2 2 1 2 2 2 2 2 2 2 1 1 2 2 2 2 2 2 2 2 2 1 2 2 2 2 2 2 1 2 2 2 2
## [106] 2 2 2 2 2 1 2 2 2 2 2 2 1 2 2 2 2 2 2 2 1 1 2 2 1 1 2 2 2 2 2 2 2 2 2
## [141] 2 2 2 2 2 2 2 1 2 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1 3 3 3 3 3 3 3 3 3
## [176] 3 3 1 3 3 3 3 3 3 3 3 1 3 3 3 3 3 1 3 3 1 3 3 3 1 3 3 3 3 3 3 3 3 3 3
## [211] 3 3 3 1 3 3 3 3 3 3 1 3 3 3 3 3 3 3 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
## [246] 3 3 3 3 3
## 
## Within cluster sum of squares by cluster:
## [1] 100.3076 154.1080 170.9162
##  (between_SS / total_SS =  68.4 %)
## 
## Available components:
## 
## [1] &quot;cluster&quot;      &quot;centers&quot;      &quot;totss&quot;        &quot;withinss&quot;    
## [5] &quot;tot.withinss&quot; &quot;betweenss&quot;    &quot;size&quot;         &quot;iter&quot;        
## [9] &quot;ifault&quot;</code></pre>
<p>The output tells you what you can extract, under “Available components”. You can extract them using the <code>$</code> symbol. Let’s look at some of them.</p>
<p>Here are the assigned clusters:</p>
<pre class="r"><code>fit1$cluster</code></pre>
<pre><code>##   [1] 1 3 3 3 1 3 3 1 2 1 1 1 1 1 1 1 1 2 3 1 1 1 3 3 1 1 3 1 1 1 1 1 1 3 1
##  [36] 1 1 1 1 1 1 1 3 1 1 1 1 1 1 1 2 2 2 2 2 2 1 3 2 2 2 2 2 1 2 2 2 2 2 2
##  [71] 2 2 2 2 1 2 2 2 2 2 2 2 1 1 2 2 2 2 2 2 2 2 2 1 2 2 2 2 2 2 1 2 2 2 2
## [106] 2 2 2 2 2 1 2 2 2 2 2 2 1 2 2 2 2 2 2 2 1 1 2 2 1 1 2 2 2 2 2 2 2 2 2
## [141] 2 2 2 2 2 2 2 1 2 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1 3 3 3 3 3 3 3 3 3
## [176] 3 3 1 3 3 3 3 3 3 3 3 1 3 3 3 3 3 1 3 3 1 3 3 3 1 3 3 3 3 3 3 3 3 3 3
## [211] 3 3 3 1 3 3 3 3 3 3 1 3 3 3 3 3 3 3 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
## [246] 3 3 3 3 3</code></pre>
<pre class="r"><code>qplot(x, y, alpha=I(0.5), colour=factor(fit1$cluster))</code></pre>
<p><img src="/tutorials/kmeans_in_r_files/figure-html/unnamed-chunk-3-1.png" width="384" style="display: block; margin: auto;" /></p>
<p>Here are the three means/centers of each group:</p>
<pre class="r"><code>fit1$centers</code></pre>
<pre><code>##            x          y
## 1  0.3725131  0.2750934
## 2  2.5109499 -1.2199721
## 3 -1.5793637 -1.5174017</code></pre>
<p>We can also extract the squared distances.</p>
<pre class="r"><code>fit1$totss        # Total sum of squares.</code></pre>
<pre><code>## [1] 1343.956</code></pre>
<pre class="r"><code>fit1$withinss     # Within group sum of squares.</code></pre>
<pre><code>## [1] 100.3076 154.1080 170.9162</code></pre>
<pre class="r"><code>fit1$tot.withinss # Total within group. **Objective function**</code></pre>
<pre><code>## [1] 425.3318</code></pre>
<pre class="r"><code>fit1$betweenss    # Between group sum of squares.</code></pre>
<pre><code>## [1] 918.6239</code></pre>
</div>
<div id="tweaks" class="section level3">
<h3>Tweaks</h3>
<p>In addition to running basic <span class="math inline">\(k\)</span>-means, we can also run <em>multiple</em> <span class="math inline">\(k\)</span>-means with the <code>nstart</code> argument. For each run, different initial values are used (different centroids). The run with the best fit is the one that is reported. What is the “best fit” anyway? It’s the one with the smallest total <em>within group</em> sum of squares – that is, <code>$tot.withinss</code>.</p>
<p>Let’s take the best of 20 runs:</p>
<pre class="r"><code>(fit2 &lt;- kmeans(dat, 3, nstart=20))</code></pre>
<pre><code>## K-means clustering with 3 clusters of sizes 60, 103, 87
## 
## Cluster means:
##            x          y
## 1  0.3725131  0.2750934
## 2 -1.5793637 -1.5174017
## 3  2.5109499 -1.2199721
## 
## Clustering vector:
##   [1] 1 2 2 2 1 2 2 1 3 1 1 1 1 1 1 1 1 3 2 1 1 1 2 2 1 1 2 1 1 1 1 1 1 2 1
##  [36] 1 1 1 1 1 1 1 2 1 1 1 1 1 1 1 3 3 3 3 3 3 1 2 3 3 3 3 3 1 3 3 3 3 3 3
##  [71] 3 3 3 3 1 3 3 3 3 3 3 3 1 1 3 3 3 3 3 3 3 3 3 1 3 3 3 3 3 3 1 3 3 3 3
## [106] 3 3 3 3 3 1 3 3 3 3 3 3 1 3 3 3 3 3 3 3 1 1 3 3 1 1 3 3 3 3 3 3 3 3 3
## [141] 3 3 3 3 3 3 3 1 3 3 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 1 2 2 2 2 2 2 2 2 2
## [176] 2 2 1 2 2 2 2 2 2 2 2 1 2 2 2 2 2 1 2 2 1 2 2 2 1 2 2 2 2 2 2 2 2 2 2
## [211] 2 2 2 1 2 2 2 2 2 2 1 2 2 2 2 2 2 2 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
## [246] 2 2 2 2 2
## 
## Within cluster sum of squares by cluster:
## [1] 100.3076 170.9162 154.1080
##  (between_SS / total_SS =  68.4 %)
## 
## Available components:
## 
## [1] &quot;cluster&quot;      &quot;centers&quot;      &quot;totss&quot;        &quot;withinss&quot;    
## [5] &quot;tot.withinss&quot; &quot;betweenss&quot;    &quot;size&quot;         &quot;iter&quot;        
## [9] &quot;ifault&quot;</code></pre>
<p>The structure of the output is no different from before.</p>
<p>You may also choose the centroids to start the algorithm with. To do this, instead of indicating <span class="math inline">\(k\)</span> for the <code>centers</code> argument, use a matrix of the centroids you wish to begin with.</p>
<p>Let’s start with the true means: (0,0), (2.5,-1), and (-1.5, -1.5):</p>
<pre class="r"><code>(xstart &lt;- matrix(c(0,0, 2.5,-1, -1.5,-1.5), ncol=2, byrow=TRUE))</code></pre>
<pre><code>##      [,1] [,2]
## [1,]  0.0  0.0
## [2,]  2.5 -1.0
## [3,] -1.5 -1.5</code></pre>
<pre class="r"><code>(fit3 &lt;- kmeans(dat, xstart))</code></pre>
<pre><code>## K-means clustering with 3 clusters of sizes 60, 87, 103
## 
## Cluster means:
##            x          y
## 1  0.3725131  0.2750934
## 2  2.5109499 -1.2199721
## 3 -1.5793637 -1.5174017
## 
## Clustering vector:
##   [1] 1 3 3 3 1 3 3 1 2 1 1 1 1 1 1 1 1 2 3 1 1 1 3 3 1 1 3 1 1 1 1 1 1 3 1
##  [36] 1 1 1 1 1 1 1 3 1 1 1 1 1 1 1 2 2 2 2 2 2 1 3 2 2 2 2 2 1 2 2 2 2 2 2
##  [71] 2 2 2 2 1 2 2 2 2 2 2 2 1 1 2 2 2 2 2 2 2 2 2 1 2 2 2 2 2 2 1 2 2 2 2
## [106] 2 2 2 2 2 1 2 2 2 2 2 2 1 2 2 2 2 2 2 2 1 1 2 2 1 1 2 2 2 2 2 2 2 2 2
## [141] 2 2 2 2 2 2 2 1 2 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1 3 3 3 3 3 3 3 3 3
## [176] 3 3 1 3 3 3 3 3 3 3 3 1 3 3 3 3 3 1 3 3 1 3 3 3 1 3 3 3 3 3 3 3 3 3 3
## [211] 3 3 3 1 3 3 3 3 3 3 1 3 3 3 3 3 3 3 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
## [246] 3 3 3 3 3
## 
## Within cluster sum of squares by cluster:
## [1] 100.3076 154.1080 170.9162
##  (between_SS / total_SS =  68.4 %)
## 
## Available components:
## 
## [1] &quot;cluster&quot;      &quot;centers&quot;      &quot;totss&quot;        &quot;withinss&quot;    
## [5] &quot;tot.withinss&quot; &quot;betweenss&quot;    &quot;size&quot;         &quot;iter&quot;        
## [9] &quot;ifault&quot;</code></pre>
</div>
</div>
<div id="k-means-1" class="section level2">
<h2><span class="math inline">\(k\)</span>-means++</h2>
<div id="basics-1" class="section level3">
<h3>Basics</h3>
<p>The <code>kmeans</code> function is quite specific – it only looks at squared distances. There’s a package called <code>flexclust</code> that allows for more flexible cluster analysis. The <code>kcca</code> function is particularly useful.</p>
<p>At its basic, <code>kcca</code> works similarly to <code>kmeans</code>. In fact, this will run a standard <span class="math inline">\(k\)</span>-means algorithm:</p>
<pre class="r"><code>suppressMessages(library(flexclust))
(fit4 &lt;- kcca(dat, 3))</code></pre>
<pre><code>## kcca object of family &#39;kmeans&#39; 
## 
## call:
## kcca(x = dat, k = 3)
## 
## cluster sizes:
## 
##  1  2  3 
## 92 59 99</code></pre>
<p>But, the output is less friendly than <code>kmeans</code> (because <code>kcca</code> uses a formal S4 object-oriented format). The multitude of output can be extracted by <code>@</code> instead of <code>$</code>. For example, here are the cluster assignments, and the final three centers:</p>
<pre class="r"><code>fit4@cluster</code></pre>
<pre><code>##   [1] 2 3 3 3 2 3 3 2 1 2 1 2 2 2 2 2 2 1 3 2 2 2 3 3 2 2 2 2 2 2 2 2 2 3 2
##  [36] 2 2 2 2 2 2 2 3 2 2 2 2 2 2 2 1 1 1 1 1 1 2 3 1 1 1 1 1 2 1 1 1 1 1 1
##  [71] 1 1 1 1 2 1 1 1 1 1 1 1 2 1 1 1 1 1 1 1 1 1 1 2 1 1 1 1 1 1 1 1 1 1 1
## [106] 1 1 1 1 1 1 1 1 1 1 1 1 2 1 1 1 1 1 1 1 2 2 1 1 2 2 1 1 1 1 1 1 1 1 1
## [141] 1 1 1 1 1 1 1 2 1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 2 3 3 3 3 3 3 3 3 3
## [176] 3 3 2 3 3 3 3 3 3 3 3 1 2 3 3 3 3 2 3 3 2 3 3 3 2 3 3 3 3 2 3 3 3 3 3
## [211] 3 3 3 2 2 3 3 3 3 3 2 3 3 3 3 3 3 3 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
## [246] 3 3 3 3 3</code></pre>
<pre class="r"><code>fit4@centers</code></pre>
<pre><code>##               x          y
## [1,]  2.4487745 -1.1781922
## [2,]  0.1910489  0.3025144
## [3,] -1.6003047 -1.5694850</code></pre>
<p>Notice that there is no sum of squares output, like there is in <code>kmeans</code> – this is because <code>kcca</code> doesn’t necessarily use the euclidean distance. However, there <em>is</em> a way to convert a <code>kcca</code> output to a <code>kmeans</code> output, though this output is more limited than usual (the only <code>ss</code> available is <code>$withinss</code>):</p>
<pre class="r"><code>fit4b &lt;- as(fit4, &quot;kmeans&quot;)
fit4b$withinss</code></pre>
<pre><code>## [1] 167.92353  96.14623 161.87687</code></pre>
</div>
<div id="tweaks-1" class="section level3">
<h3>Tweaks</h3>
<p>The most useful thing about <code>kcca</code> regarding Lab 1 is <code>kcca</code>’s ability to do <span class="math inline">\(k\)</span>-means++. This can be done through the <code>control</code> argument.</p>
<p>The <code>control</code> argument should be a named list, with each name corresponding to some property you’d like to indicate. See <code>?cclustControl</code> for the various options. But the one we’re interested in is “initcent”, which controls how the initial centers are chosen. From the documentation, this should be:</p>
<blockquote>
<p>Character string, name of function for initial centroids, currently “randomcent” (the default) and “kmeanspp” are available.</p>
</blockquote>
<p>So to do <span class="math inline">\(k\)</span>-means++, this amounts to:</p>
<pre class="r"><code>(fit5 &lt;- kcca(dat, 3, control=list(initcent=&quot;kmeanspp&quot;)))</code></pre>
<pre><code>## kcca object of family &#39;kmeans&#39; 
## 
## call:
## kcca(x = dat, k = 3, control = list(initcent = &quot;kmeanspp&quot;))
## 
## cluster sizes:
## 
##  1  2  3 
## 95 68 87</code></pre>
<p>Another feature of <code>kcca</code> is that it allows for different distance metrics besides euclidean. This can be indicated through the <code>family</code> argument. Take a look at the <code>kcca</code> documentation under “Predefined Families” to see what distance metrics you can use.</p>
</div>
</div>

    </div>

    


    



    
      








  





  
  
  
    
  
  
  <div class="media author-card" itemscope itemtype="http://schema.org/Person">
    
      <img class="portrait mr-3" src="https://s.gravatar.com/avatar/21bcea359039a1808c9711d694fe9cc7?s=200')" itemprop="image" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title" itemprop="name"><a href="/">Vincenzo Coia</a></h5>
      <h6 class="card-subtitle">Lecturer of Data Science</h6>
      <p class="card-text" itemprop="description">I&rsquo;m a data scientist at the University of British Columbia, Vancouver.</p>
      <ul class="network-icon" aria-hidden="true">
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="/vincenzo%20DOT%20coia%20AT%20stat%20DOT%20ubc%20DOT%20ca" >
              <i class="fas fa-envelope"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://twitter.com/VincenzoCoia" target="_blank" rel="noopener">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://www.linkedin.com/in/vincenzocoia" target="_blank" rel="noopener">
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://github.com/vincenzocoia" target="_blank" rel="noopener">
              <i class="fab fa-github"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>



      
      
    

    

    
<section id="comments">
  
    
<div id="disqus_thread"></div>
<script>
  let disqus_config = function () {
    
    
    
  };
  (function() {
    if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
      document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
      return;
    }
    var d = document, s = d.createElement('script'); s.async = true;
    s.src = 'https://' + "vincenzocoia-github-io" + '.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


  
</section>



  </div>
</article>

      

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/r.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    <script id="dsq-count-scr" src="https://vincenzocoia-github-io.disqus.com/count.js" async></script>
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.16bbb3750feb7244c9bc409a5a4fe678.js"></script>

    






  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
    

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
